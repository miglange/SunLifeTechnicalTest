<template>
    <h1>Financial Services Account Listing</h1>

    <!-- Filter Section -->
    <lightning-input label="Filter by Account Name" value={accountNameFilter} onchange={handleFilterChange}></lightning-input>

    <!-- Sort Section -->
    <lightning-combobox label="Sort By Account Owner" value={sortBy} options={sortOptions} onchange={handleSortChange}></lightning-combobox>
    <br>
    <!-- Display Account Records -->
    <table class="slds-table slds-table_bordered slds-table_resizable-cols">
        <thead>
            <tr>
                <th>
                    <div class="slds-truncate" title="Account Name" onclick={handleSortByAccountName}>Account Name</div>
                </th>
                <th>
                    <div class="slds-truncate" title="Account Owner" onclick={handleSortByAccountOwner}>Account Owner</div>
                </th>
                <th>
                    <div class="slds-truncate" title="Phone">Phone</div>
                </th>
                <th>
                    <div class="slds-truncate" title="Website">Website</div>
                </th>
                <th>
                    <div class="slds-truncate" title="Annual Revenue">Annual Revenue</div>
                </th>
            </tr>
        </thead>
        <tbody>
            <template for:each={accountList} for:item="account">
                <tr key={account.Id} onclick={handleAccountClick} data-account-id={account.Id}>
                    <td data-label="Account Name">
                        <a href="javascript:void(0);" onclick={handleAccountClick} data-account-id={account.Id}>{account.Name}</a>
                    </td>
                    <td data-label="Account Owner">{account.Owner.Name}</td>
                    <td data-label="Phone">{account.Phone}</td>
                    <td data-label="Website">
                        <a href={account.Website} target="_blank" rel="">{account.Website}</a>
                    </td>
                    <td data-label="Annual Revenue">{account.AnnualRevenue}</td>
                </tr>
            </template>
        </tbody>
    </table>
</template>